{%- macro css_link(filename, media, _external=None) -%}
    <link rel="stylesheet" href="{{ url_for('static', filename=filename, _external=_external) }}"
          {% if media %} media="{{ media }}"{% endif %} />
{%- endmacro %}

{% macro script_src(filename) -%}
    <script src="{{ url_for('static', filename=filename) }}"></script>
{%- endmacro %}

{% macro flash_messages() -%}
  {% for category, message in get_flashed_messages(with_categories=True) %}
    {% set category_cls = 'alert-'+category if category else '' %}
    <p class="alert {{ category_cls }}">{{ message }}</p>
  {% endfor %}
{%- endmacro %}

{% macro breadcrumb_items(crumb_list) -%}
  <li>
    You are here<span class="divider">:</span>
  </li>
  {% for crumb in crumb_list %}
  <li class="{{ "active" if loop.last else "" }}">
    <a href="{{ crumb[0] }}">{{ crumb[1] }}</a>
    {% if not loop.last -%}
      <span class="divider">/</span>
    {%- endif %}
  </li>
  {% endfor %}
{%- endmacro %}

{% macro markup_help_button() %}
<div class="markdown_container">
    <div class="markdown_less">
    </div>

    <div class="markdown_all">
        <div class="markdown_text">
            <h3>Markdown Syntax Quick Reference</h3>
            <p>Font Styles</p>
            <table>
                <thead>
                    <th style="width: 150px; text-align: left;"></th>
                    <th></th>
                </thead>

                <tbody>
                    <tr>
                        <td>**Strong**</td>
                        <td>{{'**Strong**'|markdown}}</td>
                    </tr>
                    <tr>
                        <td>_Italic_</td>
                        <td>{{'_Italic_'|markdown}}</td>
                    </tr>
                    <tr>
                        <td>`Inline Code`</td>
                        <td>{{'`Inline Code`'|markdown}}</td>
                    </tr>
               </tbody>
            </table>

            <p>Lists</p>
            <table>
                <thead>
                    <th style="width: 150px; text-align: left;"></th>
                    <th></th>
                </thead>

                <tbody>
                    <tr>
                        <td>
                            * Item1
                            <br/>
                            * Item2
                        </td>
                        <td>
                            {{'* Item1'|markdown}}
                            {{'* Item2'|markdown}}
                        </td>
                    </tr>
               </tbody>
            </table>

            <p>Headings</p>
            <table>
                <thead>
                    <th style="width: 150px; text-align: left;"></th>
                    <th></th>
                </thead>

                <tbody>
                    <tr>
                        <td>
                            #### Fourth level heading
                        </td>
                        <td>
                            {{'#### Fourth level heading'|markdown}}
                        </td>
                    </tr>
                    <tr>
                        <td>
                            ##### Fifth level heading
                        </td>
                        <td>
                            {{'##### Fifth level heading'|markdown}}
                        </td>
                    </tr>
                </tbody>
            </table>

            <p>Links</p>
            <table>
                <thead>
                    <th style="width: 150px; text-align: left;"></th>
                    <th></th>
                </thead>

                <tbody>
                    <tr>
                        <td>
                            [Foo](http://foo.bar)
                        </td>
                        <td>
                            {{'[Foo](http://foo.bar)'|markdown}}
                        </td>
                    </tr>
               </tbody>
            </table>

            <p>More info
                <a href="http://daringfireball.net/projects/markdown/syntax">here</a>.
            </p>
        </div>
    </div>
</div>
{% endmacro %}

{% macro markdown_preview() %}
<div class="modal hide" id="preview">
  <div class="modal-header">
    <a class="close" data-dismiss="modal">×</a>
    <h3>Preview</h3>
  </div>
  <div class="modal-body">
  </div>
  <div class="modal-footer">
    <a class="btn" data-dismiss="modal">Close</a>
  </div>
</div>

<a class="btn preview" data-toggle="modal" href="#preview">
  Preview
</a>
{% endmacro %}

{% macro markdown_help() %}
<div class="modal hide" id="help">
  <div class="modal-header">
    <a class="close" data-dismiss="modal">×</a>
    <h3>Markdown Cheat Sheet</h3>
  </div>
  <div class="modal-body">
    <div class="row">
      <div class="span4">
        <p>Headers</p>
        <pre># This is an &lt;h1&gt; tag,<br>## This is an &lt;h2&gt; tag<br>###### This is an &lt;h6&gt; tag</pre>
        <p>Text styles</p>
        <pre>*This text will be italic*<br>_This will also be italic_<br>**This text will be bold**<br>__This will also be bold__<br><br>*You **can** combine them*</pre>
        <p>Links</p>
        <pre>[Link name](http://example.com)</pre>
      </div>
      <div class="span4">
        <p>Ordered List</p>
        <pre>1. Item 1<br>2. Item 2<br>3. Item 3<br>   * Item 3a<br>   * Item 3b</pre>
        <p>Unordered List</p>
        <pre>* Item 1<br>* Item 2<br>  * Item 2a<br>  * Item 2b</pre>
        <p>More info</p>
        <p><a href="http://daringfireball.net/projects/markdown/syntax">http://daringfireball.net/projects/markdown/syntax</a></p>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button class="btn" data-dismiss="modal">Close</button>
  </div>
</div>

<a class="btn help" data-toggle="modal" href="#help">
  <i class="icon-question-sign"></i>
</a>
{% endmacro %}
